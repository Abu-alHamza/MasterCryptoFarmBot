<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="../css/main.css" rel="stylesheet" />
    <link
      href="../css/fontawesome-free-6.6.0-web/css/all.min.css"
      rel="stylesheet"
    />
    <title>MasterCryptoFarmBot</title>
    <meta name="generator" content="MasterkinG CMS" />
  </head>
  <body class="flex min-h-screen bg-indigo-900">
    <div class="w-full max-w-md m-auto bg-gray-900 rounded p-5">
      <h1 class="text-2xl pb-5 text-center text-white">MasterCryptoFarmBot</h1>
      <div class="breadcrumbs text-sm">
        <ul>
          <li>
            <a href="./dashboard.py" class="text-teal-200"
              ><span class="fa-solid fa-gauge mr-2"></span> Dashboard</a
            >
          </li>
          <li><span class="fa-solid fa-robot mr-2"></span> Bot Modules</li>
        </ul>
      </div>
      <div class="divider divider-neutral">Install New Bot Module</div>
      <div class="text-white text-sm text-center">
        <a href="./add_bot.py" class="bg-gray-800 p-2 rounded text-blue-400"
          ><span class="fa-solid fa-plus mr-2"></span> Install Bot Module</a
        >
      </div>
      <div class="divider divider-neutral">Bot Modules</div>
      {% if error %}
      <div class="bg-red-500 text-white p-3 rounded my-3 text-center">
        {{ error }}
      </div>
      {% endif %} {% if success %}
      <div class="bg-green-500 text-white p-3 rounded my-3 text-center">
        {{ success }}
      </div>
      {% endif %} {% for bot in bots %}
      <div class="flex justify-between items-center mt-5">
        <div class="flex items-center">
          {% if bot.logo != "" %}
          <img
            src="{{ bot.logo }}"
            class="w-10 h-10 rounded-full"
            alt="{{ bot.name }}"
          />
          {% else %}
          <i class="fa-solid fa-robot text-4xl text-pink-700"></i>
          {% endif %}
          <div class="ml-3">
            <h2 class="text-lg text-white">
              {% if bot.disabled %}
              <span class="text-red-500"><i class="fa-solid fa-ban"></i></span>
              {% endif %} {{ bot.name }}
            </h2>
          </div>
        </div>
        <div class="flex items-center">
          <button
            class="bg-sky-700 hover:bg-sky-800 text-white font-bold py-2 px-4 rounded mr-2"
            onclick="bot_accounts{{ bot.id }}.showModal()"
          >
            <i class="fa-solid fa-users"></i>
          </button>
          <dialog id="bot_accounts{{ bot.id }}" class="modal">
            <div class="modal-box">
              <h1 class="text-white">Bot Accounts</h1>
              <hr class="h-px my-4 border-0 bg-gray-700" />
              <div class="text-center">
                <p class="text-white">Bot Name: {{ bot.name }}</p>
                <p class="text-center">
                  <a
                    href="https://github.com/masterking32/MasterCryptoFarmBot/wiki/How-to:-Add-New-Accounts"
                    target="_blank"
                    class="btn bg-blue-700 hover:bg-blue-800 text-white font-bold py-2 px-4 rounded mt-2"
                    >How to Add Account</a
                  >
                  /
                  <button
                    class="btn bg-green-700 hover:bg-green-800 text-white font-bold py-2 px-4 rounded mt-2"
                    onclick="add_account{{ bot.id }}.showModal()"
                  >
                    Add Module Account
                  </button>
                </p>
              </div>
              <div class="divider divider-neutral">Bot Accounts</div>
              {% for account in bot.accounts %}
              <div class="flex justify-between items-center mt-5">
                <div class="flex items-center">
                  {% if account.disabled %}
                  <i class="fa-solid fa-user-circle text-4xl text-pink-700"></i>
                  {% else %}
                  <i
                    class="fa-solid fa-user-circle text-4xl text-green-700"
                  ></i>
                  {% endif %}
                  <div class="ml-3">
                    <p class="text-white">{{ account.display_name }}</p>
                  </div>
                </div>
                <div>
                  <button
                    class="bg-sky-700 hover:bg-sky-800 text-white font-bold py-2 px-4 rounded"
                    onclick="account_model_{{ account.id }}.showModal()"
                  >
                    <i class="fa-solid fa-cog"></i>
                  </button>
                  <dialog id="account_model_{{ account.id }}" class="modal">
                    <div class="modal-box">
                      <h1 class="text-white">Account Settings</h1>
                      <hr class="h-px my-4 border-0 bg-gray-700" />
                      <div class="text-center">
                        <p class="text-white">
                          Account Name: {{ account.display_name }}
                        </p>
                        <p class="text-white">Bot Name: {{ bot.name }}</p>
                      </div>
                      <hr class="h-px my-4 border-0 bg-gray-700" />
                      <div class="text-center">
                        <p class="text-white">
                          {% if account.disabled %}
                          <a
                            href="./bots.py?enable_account={{ account.id }}&bot_id={{ bot.id }}"
                            class="bg-green-700 hover:bg-green-800 text-white font-bold py-2 px-4 rounded"
                            >Enable Account</a
                          >
                          {% else %}
                          <a
                            href="./bots.py?disable_account={{ account.id }}&bot_id={{ bot.id }}"
                            class="bg-pink-700 hover:bg-pink-800 text-white font-bold py-2 px-4 rounded"
                            >Disable Account</a
                          >
                          {% endif %}
                        </p>
                      </div>
                      <hr class="h-px my-4 border-0 bg-gray-700" />
                      <div>
                        <form action="./bots.py" method="POST">
                          <div class="flex flex-col my-3">
                            <label for="web_app_url" class="text-white mb-2"
                              >Web App URL
                              <a
                                href="https://github.com/masterking32/MasterCryptoFarmBot/wiki/How-to:-Add-New-Accounts"
                                class="ml-2 bg-blue-400 text-white rounded-full py-1 px-3"
                                target="_blank"
                              >
                                <i class="fa-solid fa-question"></i>
                              </a>
                            </label>
                            <input
                              type="text"
                              name="web_app_url"
                              id="web_app_url"
                              placeholder="Web App URL"
                              required=""
                              class="input input-bordered bg-gray-900"
                              value="{{ account.web_app_data }}"
                            />
                          </div>
                          <div class="flex flex-col my-3">
                            <label for="user_agent" class="text-white mb-2"
                              >User Agent
                              <a
                                href="https://github.com/masterking32/MasterCryptoFarmBot/wiki/Account-User%E2%80%90Agent"
                                class="ml-2 bg-blue-400 text-white rounded-full py-1 px-3"
                                target="_blank"
                              >
                                <i class="fa-solid fa-question"></i>
                              </a>
                            </label>
                            <input
                              type="text"
                              name="user_agent"
                              id="user_agent"
                              placeholder="User Agent"
                              required=""
                              class="input input-bordered bg-gray-900"
                              value="{{ account.user_agent }}"
                            />
                          </div>
                          <div class="flex flex-col my-3">
                            <label for="proxy" class="text-white mb-2"
                              >Proxy
                              <a
                                href="https://github.com/masterking32/MasterCryptoFarmBot/wiki/Account-Proxy"
                                class="ml-2 bg-blue-400 text-white rounded-full py-1 px-3"
                                target="_blank"
                              >
                                <i class="fa-solid fa-question"></i>
                              </a>
                            </label>
                            <input
                              type="text"
                              name="proxy"
                              id="proxy"
                              placeholder="Proxy"
                              class="input input-bordered bg-gray-900"
                              value="{{ account.proxy }}"
                            />
                          </div>
                          <input
                            type="hidden"
                            name="edit_account"
                            value="{{ bot.id }}"
                          />
                          <input
                            type="hidden"
                            name="account_id"
                            value="{{ account.id }}"
                          />
                          <div class="flex flex-col mt-5">
                            <button type="submit" class="btn btn-primary">
                              Save Account
                            </button>
                          </div>
                        </form>
                      </div>
                      <div class="modal-action">
                        <form method="dialog">
                          <button class="btn">Close</button>
                        </form>
                      </div>
                    </div>
                  </dialog>

                  <a
                    href="./bots.py?delete_account={{ account.id }}&bot_id={{ bot.id }}"
                    class="bg-red-700 hover:bg-red-800 text-white font-bold py-2 px-4 rounded"
                    ><i class="fa-solid fa-trash"></i
                  ></a>
                </div>
              </div>
              {% endfor %}
              <hr class="h-px my-4 border-0 bg-gray-700" />
              <div class="modal-action">
                <form method="dialog">
                  <button class="btn">Close</button>
                </form>
              </div>
            </div>
          </dialog>
          <dialog id="add_account{{ bot.id }}" class="modal">
            <div class="modal-box">
              <h1 class="text-white">Add Account</h1>
              <hr class="h-px my-4 border-0 bg-gray-700" />
              <form action="./bots.py" method="POST">
                <div class="flex flex-col my-3">
                  <label for="session_name" class="text-white mb-2"
                    >Session Name</label
                  >
                  <input
                    type="text"
                    name="session_name"
                    id="session_name"
                    placeholder="Session Name"
                    required
                    class="input input-bordered bg-gray-900"
                  />
                </div>
                <div class="flex flex-col my-3">
                  <label for="web_app_url" class="text-white mb-2"
                    >Web App URL
                    <a
                      href="https://github.com/masterking32/MasterCryptoFarmBot/wiki/How-to:-Add-New-Accounts"
                      class="ml-2 bg-blue-400 text-white rounded-full py-1 px-3"
                      target="_blank"
                    >
                      <i class="fa-solid fa-question"></i>
                    </a>
                  </label>
                  <input
                    type="text"
                    name="web_app_url"
                    id="web_app_url"
                    placeholder="Web App URL"
                    required
                    class="input input-bordered bg-gray-900"
                  />
                </div>
                <div class="flex flex-col my-3">
                  <label for="user_agent" class="text-white mb-2"
                    >User Agent
                    <a
                      href="https://github.com/masterking32/MasterCryptoFarmBot/wiki/Account-User%E2%80%90Agent"
                      class="ml-2 bg-blue-400 text-white rounded-full py-1 px-3"
                      target="_blank"
                    >
                      <i class="fa-solid fa-question"></i>
                    </a>
                  </label>
                  <input
                    type="text"
                    name="user_agent"
                    id="user_agent"
                    placeholder="User Agent"
                    required
                    class="input input-bordered bg-gray-900"
                  />
                </div>
                <div class="flex flex-col my-3">
                  <label for="proxy" class="text-white mb-2"
                    >Proxy
                    <a
                      href="https://github.com/masterking32/MasterCryptoFarmBot/wiki/Account-Proxy"
                      class="ml-2 bg-blue-400 text-white rounded-full py-1 px-3"
                      target="_blank"
                    >
                      <i class="fa-solid fa-question"></i>
                    </a>
                  </label>
                  <input
                    type="text"
                    name="proxy"
                    id="proxy"
                    placeholder="Proxy"
                    class="input input-bordered bg-gray-900"
                  />
                </div>
                <input
                  type="hidden"
                  name="add_account"
                  value="{{ bot.id }}"
                  class="input input-bordered bg-gray-900"
                />
                <div class="flex flex-col mt-5">
                  <button type="submit" class="btn btn-primary">
                    Add Account
                  </button>
                </div>
              </form>
              <hr class="h-px my-4 border-0 bg-gray-700" />
              <div class="modal-action">
                <form method="dialog">
                  <button class="btn">Close</button>
                </form>
              </div>
            </div>
          </dialog>
          <button
            class="bg-sky-700 hover:bg-sky-800 text-white font-bold py-2 px-4 rounded"
            onclick="bot_modal{{ bot.id }}.showModal()"
          >
            <i class="fa-solid fa-cog"></i>
          </button>
          <dialog id="bot_modal{{ bot.id }}" class="modal">
            <div class="modal-box">
              <h1 class="text-white">Bot Settings</h1>
              <hr class="h-px my-4 border-0 bg-gray-700" />
              <div class="">
                <p class="text-white">Bot Name: {{ bot.name }}</p>
              </div>
              <hr class="h-px my-4 border-0 bg-gray-700" />
              <div class="text-center">
                <p class="text-white">
                  {% if bot.disabled %}
                  <a
                    href="./bots.py?enable={{ bot.id }}"
                    class="bg-green-700 hover:bg-green-800 text-white font-bold py-2 px-4 rounded"
                    >Enable Bot</a
                  >
                  {% else %}
                  <a
                    href="./bots.py?disable={{ bot.id }}"
                    class="bg-pink-700 hover:bg-pink-800 text-white font-bold py-2 px-4 rounded"
                    >Disable Bot</a
                  >
                  {% endif %}
                </p>
              </div>
              <hr class="h-px my-4 border-0 bg-gray-700" />
              {% if bot.settings_types is not none %}
              <form action="./bots.py" method="POST">
                <input type="hidden" name="bot_id" value="{{ bot.id }}" />

                {% for setting_type in bot.settings_types %} {% if
                setting_type.type == "text" or setting_type.type == "number" %}
                <div class="flex flex-col my-3">
                  <label for="{{ setting_type.key }}" class="text-white mb-2"
                    >{{ setting_type.name }} {% if setting_type.description !=
                    none %}
                    <div
                      class="tooltip"
                      data-tip="{{ setting_type.description }}"
                    >
                      <button
                        class="ml-2 bg-blue-400 text-white rounded-full py-1 px-3"
                        type="button"
                      >
                        <i class="fa-solid fa-question"></i>
                      </button>
                    </div>
                    {% endif %}
                  </label>
                  <input type="{{ setting_type.type }}" name="{{
                  setting_type.key }}" id="{{ setting_type.key }}" value="{% if
                  setting_type.key in bot.settings %}{{
                  bot.settings[setting_type.key] }}{% else %}{{
                  setting_type.default_value }}{% endif %}" {% if
                  setting_type.type == "number" and setting_type.min is not none
                  and setting_type.max is not none %} min="{{ setting_type.min
                  }}" max="{{ setting_type.max }}" {% endif %} placeholder="{{
                  setting_type.placeholder }}" required class="input
                  input-bordered bg-gray-900" />
                </div>
                {% elif setting_type.type == "select" %}
                <div class="flex flex-col my-3">
                  <label for="{{ setting_type.key }}" class="text-white mb-2"
                    >{{ setting_type.name }}{% if setting_type.description !=
                    none %}
                    <div
                      class="tooltip"
                      data-tip="{{ setting_type.description }}"
                    >
                      <button
                        class="ml-2 bg-blue-400 text-white rounded-full py-1 px-3"
                        type="button"
                      >
                        <i class="fa-solid fa-question"></i>
                      </button>
                    </div>
                    {% endif %}</label
                  >
                  <select
                    name="{{ setting_type.key }}"
                    id="{{ setting_type.key }}"
                    class="input input-bordered bg-gray-900"
                    required
                  >
                    {%if setting_type.key in bot.settings %}
                    <option
                      value="{{ bot.settings[setting_type.key] }}"
                      selected
                    >
                      {{ bot.settings[setting_type.key] }}
                    </option>
                    {% endif %} {% for option in setting_type.options %}
                    <option value="{{ option.value }}">
                      {{ option.name }}
                    </option>
                    {% endfor %}
                  </select>
                </div>
                {% elif setting_type.type == "checkbox" %}
                <div class="form-control my-3">
                  <label
                    class="label cursor-pointer"
                    for="{{setting_type.key }}"
                  >
                    <span class="label-text"
                      >{{setting_type.name}}{% if setting_type.description !=
                      none %}
                      <div
                        class="tooltip"
                        data-tip="{{ setting_type.description }}"
                      >
                        <button
                          class="ml-2 bg-blue-400 text-white rounded-full py-1 px-3"
                          type="button"
                        >
                          <i class="fa-solid fa-question"></i>
                        </button>
                      </div>
                      {% endif %}</span
                    >
                    <input type="checkbox" {% if setting_type.key in
                    bot.settings and bot.settings[setting_type.key] == 'on' %}
                    checked {% elif setting_type.key not in bot.settings and
                    setting_type.default_value == 'on' %} checked {% endif %}
                    class="checkbox" id="{{setting_type.key}}" name="{{
                    setting_type.key }}" />
                  </label>
                </div>
                {% endif %} {% endfor %}

                <div class="flex flex-col mt-5">
                  <button type="submit" class="btn btn-primary">
                    Save Settings
                  </button>
                </div>
              </form>
              {% endif %}
              <hr class="h-px my-4 border-0 bg-gray-700" />
              <div class="modal-action">
                <form method="dialog">
                  <button class="btn">Close</button>
                </form>
              </div>
            </div>
          </dialog>
        </div>
      </div>
      {% endfor %}

      <hr class="h-px my-4 border-0 bg-gray-700" />
      <div class="text-center">
        <a
          href="https://github.com/masterking32/MasterCryptoFarmBot"
          target="_blank"
          class="bg-gray-800 p-2 rounded text-blue-400 m-2"
        >
          <span class="fa-brands fa-github mr-2"></span>
          GitHub
        </a>
        <a
          href="https://t.me/MasterCryptoFarmBot"
          target="_blank"
          class="bg-gray-800 p-2 rounded text-blue-400 m-2"
        >
          <span class="fa-brands fa-telegram mr-2"></span>
          Channel
        </a>
        <a
          href="https://t.me/MasterCryptoFarmBotGroup"
          target="_blank"
          class="bg-gray-800 p-2 rounded text-blue-400 m-2"
        >
          <span class="fa-brands fa-telegram mr-2"></span>
          Group
        </a>
      </div>
    </div>
  </body>
</html>
